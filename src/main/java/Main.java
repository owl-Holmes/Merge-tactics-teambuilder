package main.java;

import main.java.entities.Card;
import main.java.entities.ExistingCards;
import main.java.entities.Team;

import java.io.BufferedWriter;
import java.io.FileWriter;
import java.io.IOException;
import java.util.*;


/**
 * Main class and launchable program that constructs all possible actualky available in Merge Tactics buffed teams and
 * writes the result into a textual file.
 *
 * @author owl
 */
public class Main {

    /**
     * Application entry point. Generates all possible team combinations from the available cards, filters only
     * the teams that satisfy the buff condition, and writes the valid teams to a textual file.
     * Finally, prints the total number of buffed teams generated.
     *
     * @param args command-line arguments (not used).
     */
    public static void main(String[] args) {
        List<Team> allTeams = allTeamCardPossibilities()
                .stream()
                .filter(Team::isBuffed)
                .toList();
        writeTeamsToFile(allTeams);
        System.out.println("Number of buffed team registered: " + allTeams.size());
    }

    /**
     * Utility method that writes all the given {@code teams} to a textual file in the application resources.
     *
     * @param teams is the List of all the teams that have to be written in the file.
     */
    private static void writeTeamsToFile(List<Team> teams) {
        try (BufferedWriter writer = new BufferedWriter(new FileWriter("resources/teams.txt"))) {
            for (Team t : teams) {
                writer.write(t.toString());
                writer.newLine();
            }
        } catch (IOException e) {
            throw new RuntimeException("Error during the writing process in the file", e);
        }
    }

    /**
     * Utility method generating all the possible existing teams in Merge Tactics with the actual cards.
     *
     * @return a List of all possible teams in Merge Tactics.
     */
    private static List<Team> allTeamCardPossibilities(){
        List<Card> allCardsExisting = ExistingCards.allCards();
        int size = allCardsExisting.size();

        List<List<Card>> allTeams = new ArrayList<>();

        for(int i = 0; i < size; i++ ){
            for(int j = i + 1; j < size; j++ ){
                for(int k = j + 1; k < size; k++ ){
                    for(int l = k + 1; l < size; l++ ){
                        for(int m = l + 1; m < size; m++ ){
                            for(int n = m + 1; n < size; n++ ){
                                    List<Card> construction = List.of(
                                            allCardsExisting.get(i),
                                            allCardsExisting.get(j),
                                            allCardsExisting.get(k),
                                            allCardsExisting.get(l),
                                            allCardsExisting.get(m),
                                            allCardsExisting.get(n)
                                    );
                                    allTeams.add(construction);
                            }
                        }
                    }
                }
            }
        }
        return allTeams
                .stream()
                .map(Utilities::listToTeam)
                .toList();
    }

}






























































































































































































































/*
               @@@@%%%@@@@@@
            @@#=:::::----==+#%@@@
          @%+-----------------==*@@@
         @#---------------------=#=*%@
        @*----------------------+#-==+#@@
       @#=----------------------=%=---=+#@@
      @@+#=----------------------#*-----==#@
      @%==#----------------------=#------==+%@
      @#=-#+----------------------**-------=+#@
      @*=-=#=---------------------+#=-------==*@@
      @*---*+----------------------*+--------==*%@
      @*---=#=---------------------+#----------=+%@
      @*----*#----------------------#+----------=+%@
      @#=----#=---------------------+%----------==+@@
      @%=----=%=---------------------%+----------==+@@
      @%=-----+#---------------------+%-----------==+@@
      @@+------**---------------------%*-----------==*@
       @*------=#+--------------------+#------------=+#@
       @%-------+#--------------------=#+------------=+%@
       @@+-------**--------------------+#------------==*@
        @%--------#+-------------------=#=------------==#@
        @@+--------%=-------------------*#-------------==%@
         @#--------=#=------------------=%=------------==+@@
         @%=--------+*-------------------##-------------==#@
          @*---------*+------------------=@=------------==+%@
          @%+--------=#-------------------#*-------------==#@
           @#---------=%------------------=%=------------==+%
            %=---------+#------------------%*-------------==#@
            @%----------+*-----------------+#=------------===@@
             @*----------*+----------------=#+-------------==*@
             @@=---------=#=----------------*#-------------==+@@
              @#----------=#----------------=#=------------===#@
               @*----------+#----------------*#-------------==*@
               @%=----------**---------------=%=------------==+%@
                @%-----------**---------------#*------------===#@
                 @%----------=*=--------------=%------------===*@
                  @#----------=*=--------------#*------------==*%
                   @#----------+*--------------=#=-----------==+%
                   @@*----------+#--------------**-----------===#@
                    @@+----------+*-------------=#=----------===#@
                     @@=----------+*-------------*+-----------==+@@@@@@@@@@@@@@
                       @+---------=*+---===------+*-----------==+@============+*#%%@@@@
                        %+---------=#=============#=---------====@===================+*#%@@@
                        @%+-------===#============+%---------====@+=======================+*#@@@
                          @#---=======*============#+============@+============================+#@@
                           @%=======================%============@+===============================+#@@
                            @%*=====================++===========@+==================================*%@@
                              @##================================@=====================================+#%@
                             @%*================================+%=======================================+*%@
                           @@*==================================+*==========================================#@@
                          @%=-------------===================================================================+%@
                        @@*----------------====================================================================*@@              @@@@
                       @%+------------------====================================================================+%@          @@#+-+@
                      @%---------------------===============================================================+#*++#@@      @%*=----*@
                     @#---:.-----------------==============================================================%#======#@  @@#=-------#@
                    @#=---:------------------=======================================+%*+#%#+=============+%+========#@%====------=%@
                   @%=-----------------------======================================*@:...:#%#+===========#*=================-----*@
                  @%=------------------------======================================%#:....*%%@+=========+#====================--=#@
                 @@=------------------------=======================================#%#=-=*%%%%@+========#*=======================%@
                 @+-------------------------=======================================*@%%%%%%%%%%%========%======================*@@@
                @#-------------------------=====+*#%#*+=============================%%%%%%%%%%%%+======*%==========================#%%@
               @%+-------------------------====*%=...=##+============================%%%%######%*======%*===========================--=*#@@
               @#=------------------------=====@*.....+%@#===========================+%##*****#%+======@===========================-------=*%@@
               @*------------------------=====+@*:...:*%%%#+==========================+%#****+%#=======@==========================------------=#@@
              @%+-----------------------=======%%#+=+#%%%%@*============================+%%#%%+=======+@==========================----------------#@@
              @%==--------------------=========*@%%%%%%%%%%%+==================*======================+@=========================-----------------+%@
              @#===------------------===========%%%%%%%###%@+==================+======================+@=========================-------------+#%@
              @*====-=*#######*=---=============+%%########%+=========%+==============================+@=========================---------=*%@@
             @@+===*#=---------=+#%*=============+%##*****#%+==========================================@==========================-----*%%@
             @@+=+@+=----------=====*%#+===========*%#####%+===========================================@============================#@@
             @@++%+====================*%*============+**+=====================+++=+##****++++*#####**+%#======================+#%@@
 @@@@@@@@@@@@@@**#=======================+##+============================+**++=--::::::::::::::::::::-=*%====================#@@
@%+-:------===++###%#*+=====================##========================*%#=-::::-:--:::::::::::::::::::::#+==================+*@@
 @*-------------------=======================+%+===================+%*--::::::::::::::::::::::::::::::::-#================++++%@
  @#--------------------=======================##===============+%#-::::::::::::::::::::::::::::::::::::-*+=============+++++++@@
   @@=-------------------=======================+#+==========+**=::::::::::::::::::::::::::::::::::::::::=#===========+++++++++#@@
    @@*------------------=========================#========+#+-:::::::::::::::::::::::::::::::::::::::::::=%========+%#*++++++++@@
      @%*--------------============================%+====+#+---::::::::::::::::::::::::::::::::::::::::::::-%+===+++#@@@@@%#*+++%@
        @@+-------=================================+%+==**-:::::::::::::::::::::::::::::::::::::::::::::::::-*#++++%@       @@@@@@
          @%+---====================================+#*#-::::::::::::::::::::::::::::::::::::::::::::::::---==+#%%@@
           @@%++=====================================*#-::::::::::::::::::::::::::::::::::::::::::::::---======+%@
            @@#======================================+*-:::::::::::::::::::::::::::::=+**=::::::::::--=======+#@@
           @#=-=======================================#=::::::::::::::::::::::::::-*%##==%%+:::::---========#@@
         @%=-----------===============================*+:::::::::::::::::::::::::=#=-=#--+**+---=========+#@@
       @@*--------------===============================#::::::::::::::::::::::::+#---==--==-#+=========+#@@
      @#=----------------==============================#::::::::::::::::::::::-%+-----------*#=======+%@@
     @*------------------=================*===========+#:::::::::::::::::::::=#+------------=%====+#%@
   @@+--------------------================@===========*+::::::::::::--------=%+-------------=%=+#%@@                   @@@%##%@@
  @%=-------------------------------=====*%++=========#=-------------======+%+--------------=%@@@                @@@@%#**+**#*+*@@
 @%=-::---------------------------------=%#++++++++++*#===================*%=---------------+%@@@@         @@@@%%#*********#*++##%
@%=----------------=++*#%#--------------=%+++++++++++#+=================+##=-------------===#%##%%%%%%%%%%%##**************+++##*@@
@%****+****##%%%%@@@@@   @*-------------*%+++++++++*%+=================+%*=------------====+%#**********************+++++++++**+#@
                          @%-----------=%@@@%**+*#%*==================*%+==-----===========*%#**********************+++++++++*+#@
                           @@+---------*@    @@@@@%#*+++++++++++++*##%#===-----===========+%#***********************+++++++++*%@
                             @#-------=@@            @@@@%#**#*****#%+===-----============*%#***********************++++++++#%@
                              @%*-----%@                 %*+*****#%+===-----=============+%*%#**********************++++++*%@@
                                @%+--%@                  @#++++##+===-----===============@+=+#@#**********************+*#%@
                                  @@@@                   @%+========----================%======#%##******************#@@@
                                                         @%+=======----================#+:---=*#%*=*#%#**********#%@@@
                                                         @%+======---=================#+:::-**--*+---+%%##**##%%@@@
                                                         @@*====----=================%=:::=#=---*+---+#-#%%@@@@
                                                          @*====----===============*%-:::=#-----=----++--#+=#@@                                     @@
                                                          @*==------=============+%+::::+#---------------=#-:-*@@                                @%##=+@@
                                                          @#==------===========+##-::::+*-----------------*#::::*%@                           @@%=-=*=-#%@
                                                          @%==-------=========**+#::::=#=----------------==%-:::::*%@                      @@%*=---=*--*+*@
                                                          @%=---------===========#=::-#+==---------------==*#::::::-*@                @@@@%*+==--------+-+%
                                                          @@=----------==========++::##===--------------====%-:::::::-#@           @@@%*+=========-------+@
                                                           @+----------===========#=+#====-------------=====%-:::::::::+%@     @@%#+=====================*@
                                                           @#----------===========*#%=====------------======%=::::::::::=%@ @@%#*+++++++++==============+#@
                                                           @%----------===========+%+=====----------========%=:::::::::::=@@%**+*++++*++++++++++++++++++*%@
                                                           @@---------============#*=======-------==========%=::::::::::::+%*****+++*++++++++++++++++++*#@
                                                            @+--------===========+#==========-==============%-::::::::::::-##*+++++++++++++++++++++++++*@@
                                                            @%-------============#+========================+@-::::::::::::-+#*+++++++++++++++****+++++*%@
                                                             @=-----============+#=========================#*:::::::::::--=+#*+++++++++++++++++++++++*%@
                                                             @#--===============#+========================+%-:::::::::--====*#*+++++++++++++++++++++*%@
                                                             @%+================%=========================#+:::::::---======*#*++++++++++++++++++++*%@
                                                              @*===============+*========================*#-::::::--========*#*+++++++++++++++++++*%@
                                                              @%+==============#+=======================+#=:::----==========*#*++++++++++++++++++*@@
                                                              @@#==============*========================%=:----=============##*++++++++++++++++*#@@
                                                               @@+====================================+%+--=================##++++++++++++++++*%@
                                                                @@=================================++*%+===================+%*+++++++++++++++#@@
                                                                 @%==========================++++++*%#+====================+%*+++++++++++++*%@
                                                                  @%+==============++++++++++++++*#%*======================##++++++++++++*%@
                                                                   @%*+++++++++++++++++++++++++*#%#=======================+%*+++**+*+++*#@@
                                                                    @%*+++++++++++++++++++++++#%#+========================%#+++++++++*%@@
                                                                     @@#++++++++++++++++++++++*#+========================#%*+++++++#@@@
                                                                       @%*++++++++++++++++++++%*========================#%++++++*%@@
                                                                        @@%*+++++++++++++++++*@=======================+##*+**#%@@
                                                                          @@#*+++++++++++++++#%======================*%***#%@@
                                                                            @@#*+++++++++++++##============++======+%#%%@@@
                                                                       @@@@@@%%@#*+*+*+++****##===========*++*%*+*%@@@
                                                                @@@@%#*+========+#%#**********@===========#+===+%@
                                                           @@@%#*+=================+#%%#******##==========#*=====+#@
                                                       @@@#*=-::::--===================+**##%%##+=========#+======+*%
                                                   @@@#+--::::::::-:--======================+*+===========#*========+%@
                                                @@@*-:::::::::::::::::--==================+##+============**==========#@
                                            @@@%+-:::::::::::::::::::::::--==============*%+==============*#==========+*@
                                         @@%#+-:::::::::::::::::::::::::::-----========+%*================**============#@
                                       @%*=-::::::::::::::::::::::::::::-:::::-----===##+=================**=============#@
                                    @@#=-:::::::::::::::::::----------::---:::-:::::=%*-==================#*==============#@
                                  @%+:::::::::::::::::::::::::::::::::::::::::::::-#*:::::----============**==============-%@
                               @@#=:::::::::::::::::::::::::::::::::::::::::::::-+#=::::::::::::--------==**=--------------=%@
                             @%*-::::::::::::::::::::::::::::::::::::::::::::::=%+::::::::::::::::::::::--*+----------------#@
                           @@+-::::::::::::::::::::::::::::::::::::::::::::::=#*-:::::::::::::::::::::::::*=:::::::::::::::-+@
                         @@*-:::::::::::::::::::::::::::::::::::::::::::::::*#-::::::::::::::::::::::::::-#-::::::::::::::::=%@
                       @@#-::::::::::::::::::::::::::::::::::::::::::::::-*%-::::::::::::::::::::::::::::=*-::::::::::::::::=%@
                     @@%=::::::::::::::::::::::::::::::::::::::::::::::-+#=::::::::::::::::::::::::::::::++:::::::::::::::::=%@
                    @%+:::::::::::::::::::::::::::::::::::::::::::::::+#=:::::::::::::::::::::::::::::::-*+:::::::::::::::::=%@
                   @#-::::::::::::::::::::::::::::::::::::::::::::::+#=:::::::::::::::::::::::::::::::::-#-:::::::::::::::::+%@
                 @@+::::::::::::::::::::::::::::::::::::::::::::::-#=:::::::::::::::::::::::::::::::::::=*::::::::::::::::::*@
                @#::::::::::::::::::::::::::::::::::::::::::::::-%+:::::::::::::::::::::::::::::::::::::*+:::::::::::::::::-%@
               @*:::::::::::::::::::::::::::::::::::::::::::::-*=::::::::::::::::::::::::::::::::::::::-%-:::::::::::::::::*@
              @*::::::::::::::::::::::::::::::::::::::::::::-*+::::::::::::::::::::::::::::::::::::::::#*:::::::::::::::::*@
             @*:::::::::::::::::::::::::::::::::::::::::::-+-:::::::::::::::::::::::::::::::::::::::::-@-::::::::::::::::*@
            @*:::::::::::::::::::::::::::::::::::::::::::+::::::::::::::::::::::::::::::::::::::::::::#+:::::::::::::::-#@
           @#-:::::::::::::::::::::::::::::::::::::::::-:::::::::::::::::::::::::::::::::::::::::::::=%:::::::::::::::=%@
           @+:::::::::::::::::::::::::::::::::::::::=-::::::::::::::::::::::::::::::::::::::::::::::-#=:::::::::::::-#@@
          @%=::::::::::::::::::::::::::::::::::::-+=::::::::::::::::::::::::::::::::::::::::::::::::+*-:::::::::::-+%@
           %=::::::::::::::::::::::::::::::::::-#+:::::::::::::::::::::::::::::::::::::::::::::::::-#=:::::::::::=%@@
           @+::::::::::::::::::::::::::::::::=%=:::::::::::::::::::::::::::::::::::::::::::::::::::#+::::::::::-%@
           @%-:::::::::::::::::::::::::::::=#=::::::::::::::::::::::::::::::::::::::::::::::::::::#*:::::::::=#@@
            @#:::::::::::::::::::::::::::+#=:::::::::::::::::::::::::::::::::::::::::::::::::::::**::::::::+%@@
             @*:::::::::::::::::::::::-**-::::::::::::::::::::::::::::::::::::::::::::::::::::::++::::::-*%@@
              @#::::::::::::::::::::-#*::::::::::::::::::::::::::::::::::::::::::::::::::::::::=+:::::*@@@
               @%+::::::::::::::::+#+::::::::::::::::::::::::::::::::::::::::::::::::::::::::::-::-*%@@
                 @%=:::::::::::-##-::::::::::::::::::::::::::::::::::::::::::::::::::::::::::--+#@@
                   @%+-::::::+#+-:::::::::::::::::::::::::::::::::::::::::::::::::::::::::-+#@@@
                     @@%+::=+-:::::::::::::::::::::::::::::::::::::::::::::::::::::::-+#%@@@
                        @@%#=::::::::::::::::::::::::::::::::::::::::::::::::::=+#%@@@@
                             @@@%#+=--:::::::::::::::::::::::::::::--==+*#%@@@@
                                   @@@@@@@@%%######%%%%%%@@@@@@@@@@@@
 */